import{r as s,j as e,i as S,a as w,b as y}from"../chunks/chunk-CM0vtXgd.js";/* empty css                      */const T=()=>{const i=s.useRef(null),l=s.useRef(null),r=s.useRef(null),[d,c]=s.useState(""),[o,u]=s.useState(""),[p,f]=s.useState(!1);s.useEffect(()=>{console.log(123);const t=new RTCPeerConnection({iceServers:[]});r.current=t,navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(a=>{i.current&&(i.current.srcObject=a),a.getTracks().forEach(n=>t.addTrack(n,a))}),t.ontrack=a=>{const[n]=a.streams;l.current&&(l.current.srcObject=n)},t.onicecandidate=a=>{var n;console.log(1,a.candidate,(n=a.candidate)==null?void 0:n.candidate),a.candidate===null&&c(JSON.stringify(t.localDescription))}},[]);const m=async()=>{if(!r.current)return;f(!0);const t=await r.current.createOffer();await r.current.setLocalDescription(t)},x=async()=>{if(!r.current||!o)return;const t=new RTCSessionDescription(JSON.parse(o));await r.current.setRemoteDescription(t);const a=await r.current.createAnswer();await r.current.setLocalDescription(a)},h=async()=>{if(!r.current||!o)return;const t=new RTCSessionDescription(JSON.parse(o));await r.current.setRemoteDescription(t)};return e.jsxs("div",{className:"p-4 space-y-4 text-sm max-w-2xl mx-auto",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Manual WebRTC (Video + Audio)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Local"}),e.jsx("video",{ref:i,autoPlay:!0,playsInline:!0,muted:!0,className:"rounded w-full border"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Remote"}),e.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,className:"rounded w-full border"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium",children:"Your SDP"}),e.jsx("textarea",{value:d,readOnly:!0,className:"w-full h-40 p-2 border rounded font-mono text-xs"}),!p&&e.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Create Answer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium",children:"Paste remote SDP"}),e.jsx("textarea",{value:o,onChange:t=>u(t.target.value),className:"w-full h-40 p-2 border rounded font-mono text-xs"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 bg-green-500 text-white rounded",children:"Create Offer"}),e.jsx("button",{onClick:h,className:"px-4 py-2 bg-indigo-500 text-white rounded",children:"Accept Answer"})]})]})]})},g=Object.freeze(Object.defineProperty({__proto__:null,Page:T},Symbol.toStringTag,{value:"Module"})),P={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:S}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:w}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+onRenderClient.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:y}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/index/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:g}},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/index/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"webRTC_test"}}};export{P as configValuesSerialized};
